<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="User">

   <select id="checkId" parameterType="string" resultType="_int">
      SELECT COUNT(*) FROM `USER` WHERE userId = #{userId} 
   </select>

   <insert id="join" parameterType="userdto">
      INSERT INTO `USER` VALUES 
      (null,#{userId},#{userPw},#{userName},#{userAge},#{userGender},#{userPhoneNumber},#{userEmail},#{userAddress})
   </insert>

   <select id="login" parameterType="hashmap" resultType="userdto">
      select * from `USER`
      where userId = #{userId} and userPw = #{userPw}
   </select>
   
   <select id="searchById" parameterType="string" resultType="userdto">
       SELECT * FROM `USER` WHERE userId = #{userId}
    </select>
    
   <select id="getList" resultType="userdto">
       SELECT * FROM `USER`
</select>

   <update id="updateAddress" parameterType="hashmap">
      UPDATE `USER`
      SET userAddress = #{userAddress}
      WHERE userId = #{userId}
   </update>

<select id="getUserId" parameterType="_int" resultType="String">
   select userId from `USER` where userIdx=#{userIdx}
</select>

</mapper>
 